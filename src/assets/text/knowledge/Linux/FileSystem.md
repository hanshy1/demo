# 文件系统  
## 查看文件详情
使用ls -l可以查看当前目录下所有文件的详情。
> -rw-r--r-- 1 user staff 4096 11 13 2020 test.sh  
> drwx------ 2 user staff 6666 11 13 2021 directory

各部分的含义：
* 第一列：文件权限。后9位分三组，每组都是rwx的组合（r代表可读，w代表可写，x代表可执行，-代表没有这个权限）  
	字符串总共10位，分为四段来解读：  
	第一段（第1位）：表示文件类型，d表示目录，-表示普通文件。  
	第二段（第2-4位，共3个字符）：表示文件所属用户（属主）对它的权限。  
	第三段（第5-7位，共3个字符）：表示文件所属用户组（属组）对它的权限。  
	第四段（第8-10位，共3个字符）：表示其他用户对它的权限。  
* 第二列：连接数
* 第三列：文件所属用户
* 第四列：文件所属用户组
* 第五列：文件的大小（linux中所有文件大小都是4096）
* 第六-八列：最后被修改的时间
* 第九列：文件名

## 文件类型
linux共有7中文件类型：
* -：普通文件。文本、视频、音频等。
* d：目录。
* l：链接文件。一般指一个文件的软连接（或符号连接），就向windows的快捷方式一样。
* b：块设备。一般指硬盘、软盘等存储设备。
* c：字符设备。字符设备文件以字节流方式进行访问，由字符设备驱动程序来实现这种特性，通常要用到open、close、read、write等系统调用。  
	字符终端、串口和键盘等就是字符设备。另外由于字符设备是以文件流方式进行访问的，因此可以顺序读取，但通常不支持随机存取。
* p：管道文件。管道文件主要用于进程间通信，可以使用mkfifo创建管道文件。
* s：套接字文件。套接字文件主要用于网络通信。

## 文件权限及修改
文件包含三种读写权限r（可读）、w（可写）、x（可执行）。

除了用rwx字母表示以外，可以用二进制和八进制表示。
| 字母 | 二进制 | 八进制 |
| ---- | ---- | ---- |
| r | 100 | 4 |
| w | 010 | 2 |
| x | 001 | 1 |

那么组合一下，每个文件都有8种权限组合。
| 权限 | 二进制 | 八进制 |
| ---- | ---- | ---- |
| --- | 000 | 0 |
| --x | 001 | 1 |
| -w- | 010 | 2 |
| -wx | 011 | 3 |
| r-- | 100 | 4 |
| r-x | 101 | 5 |
| rw- | 110 | 6 |
| rwx | 111 | 7 |

所以使用chmod 777 file可以获得文件的所有权限。

## 文件归属者修改
使用chown命令修改一个文件的所属者和所属用户组：
```
chown [参数] [用户名.<用户组名>] [文件名/目录]
chown [-cfhvR] [--help] [--version] user[:group] file
```

```sh
# 只改变所属用户
sudo chown user /xxx/file 

# 同时改变所属用户和所属用户组
sudo chown user.group /xxx/file